## 如何分析空间复杂度

### 大部分的空间复杂度计算方法

累加下面两个部分的内容即是你代码的空间复杂度：

1. 你的代码里开辟了多少新的空间（new 了多少新的内容出来）
2. 你的递归深度 \* 递归函数内部的参数和局部变量所占用的空间

### 以快速排序为例子

快速排序的思路如下：  
1.选择一个基准元素，将原数组分为两部分，左边部分小于该元素，右边部分大于该元素。  
2.分别递归处理左边和右边。

* 最好情况：  
  每次都能恰好将数组分成左右相同长度的两部分，需要的递归深度是:lgn，每次将数组分成两部分时，我们选择不使用辅助数组，在原数组上“就地”处理，所以每层的空间是O\(1\)。  
  因此总的复杂度是:O\(logn\)

* 最差情况：  
  每次都将数组分成长度差最大的两部分，即一边只有一个元素，其余的在另外一边，最大深度为：n， 因此空间复杂度为:O\(n\)。

有些递归算法的空间复杂度是稳定的，不会退化，快排的递归深度与其每次选择的“基准值”有很大关系，因此存在退化的情况。

